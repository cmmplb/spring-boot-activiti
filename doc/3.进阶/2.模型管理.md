# 模型管理

添加依赖：

````

<properties>
    <mybatis-plus-boot-starter.version>3.4.3.1</mybatis-plus-boot-starter.version>
</properties>

<dependencie>
    <!-- activiti json 转换器-->
    <dependency>
        <groupId>org.activiti</groupId>
        <artifactId>activiti-json-converter</artifactId>
        <version>${activiti-spring-boot-starter.version}</version>
    </dependency>
</dependencies>
````

- 添加接口，我习惯从 controller 往后写了：

`spring-boot-activiti/src/main/java/io/github/cmmplb/activiti/controller/ModelController.java`

````java
package io.github.cmmplb.activiti.controller;

import io.github.cmmplb.activiti.domain.dto.ModelDTO;
import io.github.cmmplb.activiti.result.Result;
import io.github.cmmplb.activiti.result.ResultUtil;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 * @author penglibo
 * @date 2024-10-22 10:38:24
 * @since jdk 1.8
 * 模型管理
 */

@Api(tags = "模型管理")
@Slf4j
@RestController
@RequestMapping("/model")
public class ModelController {

    @Autowired
    private ModelService modelService;

    @ApiOperation("新增")
    @PostMapping(value = "/save")
    public Result<Boolean> save(@RequestBody ModelDTO dto) {
        return ResultUtil.success(modelService.save(dto));
    }
}

````

- 新增模型的参数 dto：

`spring-boot-activiti/src/main/java/io/github/cmmplb/activiti/domain/dto/ModelDTO.java`

````java
package io.github.cmmplb.activiti.domain.dto;

import io.swagger.annotations.ApiModel;
import lombok.Data;

/**
 * @author penglibo
 * @date 2023-10-17 11:13:43
 * @since jdk 1.8
 */

@Data
@ApiModel(value = "ModelVO", description = "流程设计模型")
public class ModelDTO {

    /**
     * id
     */
    private String id;

    /**
     * 模型关键字
     */
    private String key;

    /**
     * 模型名称
     */
    private String name;

    /**
     * 模型类型
     */
    private String category;

    /**
     * 描述
     */
    private String description;
}

````


